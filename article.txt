Audience: General, people who stumble upon gnu.org
          1924+/-395 words english
          1028+/-395 words instead?
          755 words        rahisibhasha
          stab at          french
Version: 2019-05-19


#########################################

大云墙 (Dà Yún qiáng)
大きな雲壁 (Ookina Kumo kabe)

with Jeff Cliff

essistensa una reason you go to

#########################################


The Great Cloudwall

by Jeff Cliff


There is a reason that none of your favourite work intermittently on tor since early 2016[15].
That reason has lead to the discovery of a threat to the operation of the world wide web itself.

Prerequisites:
The Javascript Trap[47]
Understanding that Google is not to be trusted[45][46]
"Trusted Third Parties are Security Holes" - Nick Szabo[44][48]

Cloudflare is a service for turing tests its users users, which means that it frustrates attempts by users of its users
to develop software to interact with their websites[3].  This might seem strange at first - why would you need a program
to access a web resource?   But there's many things that work on the web like this, including RSS, podcasts, and antivirus
definitions[57][58] which are completley broken by a CAPTCHA appearing mid stream[11].
"We humans don't make HTTP requests, our machines to do it for us."
This makes clear what is really being tested here - whether or not you have the *right* software stack in between you and
cloudflare.

This is not a hypothetical: Cloudflare is currently attempting to dictate which web browsers users of websites under cloudflare may use[60].

{{expand}}

Your right to use Free Software in this stack is at risk, and could disappear at any moment.

It also is extracting free labour from website users[35], in effect tricking human beings to act like robots in order to defeat
a test designed to test whether they are a robot, worse: this labour is going towards training a company that is a poor
candidate for friendly AI[36].  Given unfriendly AI is an existential[43] risk[42], this should be among the highest priority things to avoid.

This software stack includes human language: the CAPTCHAs are in english, making non-english speakers around the world at a disadvantage[13].  Attempts to fix this are bound by the fact that they also leak language information to cloudflare[21]

Furthermore they use Google ReCaptcha for their turing test/CAPTCHA, and Google is part of PRISM, so they expose PRISM
data collection to users of their websites.

Which on its own is bad, but also worth pointing out how the ReCAPTCHAs work: it isn't by whether or not you click on the right icon
or not(though that, is a factor too), but also

> mouse movement, its slightness and straightness
> page scrolls
> time intervals between browser events
> keystrokes
> click location history tied to user fingerprint
> All these criteria, are stored in the browser’s cookie. These criteria are processed by Google’s server
> It should be emphasized, that there is a DARPA technology to identify people by mouse movements and typing ​
[23]

This collection of data is likely illegal in regions like the EU where privacy is taken seriously[24]

It is frustrating even when it works, because you have to fill out 20 captchas on the off chance that you get through 1 time in 20.
So this is 95% censorship plus 5% wasting of users time[5].

More important, though is it starts to form a ratchet for web browser technology - the captchas are upgraded all the time, and if you use an older web browser you risk being left behind even if it works now.


*How Cloudflare threatens You*

"When you fetch a page from a website that is served from CloudFlare, Javascript has been injected on-the-fly into that page by CloudFlare. And they also plant a cookie that brands your browser with a globally-unique ID.  ID. This happens even if the website is using SSL and shows a cute little padlock in your browser" [10]

- Cloudflare tracks you
Even if your web browsing traffic is protected from onlookers, cloudflare itself because they are a MiTM[14][31] can see your traffic[6].
And if Cloudflare[53] has MITM'd you, then so has the NSA[33].
"If a site uses Cloudflare, then the browser lock icon is a false promise."[14]
"The short version, a rhetorical question: Would you trust a key escrow régime, in which an “authorized” entity was entrusted with the potential to decrypt all communications at will? If not, why would you trust a de facto mass decryption chokepoint at which many communications are actually decrypted?"[34]
in other words

- They are in a position to track, tap, and link Internet activity across a wide range of sites. [14]

- Cloudflare frustrates accessibility efforts[25][27][36]:
"CAPTCHA remains the most problematic item indicated by respondents"
Cloudflare is one of the largest, if not the largest source of unconsensual CAPTCHAS, making them quite possibly the biggest impediment in accessibility efforts worldwide.

- Cloudflare makes Tor frustrating, making efforts to become anonymous more
difficult and making it more likely that people will use non-tor connections
for some or all of their web browsing traffic.  The problem is getting worse[13] with time

- It's not just Tor[19], but tor users are the biggest group of people who've noticed it, and organizing against it so far.




- in particular, the model of Project Honeypot depends on one (ipv4) IP address meaning one person.  As IPv4 addresses become scarce, more and more ISPs(and whole countries[22]) are forced to use higher and higher levels of NAT.  The result is, the kinds of treatment of tor users by cloudflare starts to be not just for tor, but for all web users. "Tor is just being slightly ahead of what the IPv4 Internet is going to look like pretty soon."
And the next time a large group wakes up it might be millions of websites being down (including critical ones) across a whole continent, which has happened already[49]

"It was made clear in the Snowden leaks that GCHQ, the NSA etc would like people to stop using Tor, so I am sure they are very happy to see CF make general web browsing difficult and frustrating for ordinary users."[12]

- Worse, Cloudflare makes using tor *dangerous* because enabling javascript and images to deal with their system makes it likely that some people will enable javascript and images on other websites, which even if Cloudflare wasn't threatening them, would.[9]

- Cloudflare is capable of tracking users of its websites, and initial looks
into its javascript/CAPTCHA seems to bear out that they are doing so.

- Cloudflare can target individual users with javascript malware, since you usually wind up enabling their javascript to use websites you fall into their javascript trap. Since they track users, and are giving users per-user specific code and work directly with the US government/DHS there's no reason why they can't tailor attacks to users for them.
 
- Even if they aren't doing it yet, they are at any point one US government administration, one vulture capital funding purchase[26], or one internally rogue element away from executing javascript code on hundreds of millions of people's computers a "highly attractive" target[7] with no oversight.  The code CAPTCHA itself protects attempts to detect such things from happening.

- The way that Cloudflare is constructed means that even by accident, billions of people can be MiTMd by their government[51], and can have their access cut at the government's whim.

*Background : How Cloudflare threatens the web*

- Cloudflare is a MiTM for the whole web

- as of 3 years ago 10% of the top 25,000 websites used cloudflare[2]
- A billion people in china are restricted by the Great Firewall[8], anyone who
goes so far as to circumvent that must then deal with the Great Cloudwall for accessing

- This is not just an individual problem,
but fundamentally threatens the ecosystem of the web
CloudFlare is breaking the web one site at a time. The web is massively
resilient - we can do without StackOverflow, GNU.org or even Google.  But
when a significant enough portion of websites all use one provider there starts
to be a systematic risk that if that one provider goes down, all of the websites
behind it will be inacessible.  Or worse: you won't be allowed to access it
unless you have the right kind of US government approved credential, contingent
perhaps on running software that only they approve of.

It is becoming a single point of failure for the internet[39]

Right now there are alternative sources for, for example the US constitution[17].  But it's not unthinkable that Cloudflare is getting big enough to threaten that.

"A.1 sometimes there are necessary websites for some degree of necessary. Government websites, public service, etc. How long until those are behind the great cloudwall ?
B: Not long. Our service is competitive and convenient. If public service websites choose to use our service for awesome DDos protection, it's their choice."[36]

- Cloudflare has already started down the slippery slopep[52] of censoring websites.
While if they didn't have a stranglehold on people accessing the world wide web
would not be a problem.  But they are big enough that censorship form
cloudflare is starting to be a systematic exclusion from the political process.

"CloudFlare is perfect: it can implement censorship on the fly, without anyone getting wise to it!"[40]

- DNS[39]: given that they have become so systematically powerful, the next step to
cementing their power is to attack DNS.  Their 1.1.1.1 DNS server, like Google's 8.8.8.8, is marketed to people so that even for websites who *don't* use cloudflare, cloudflare will still be able to see you're going to them, further data for them to track you with.

*Background : Where does Cloudflare come from?*

Cloudflare comes from a project called Project Honey Pot, originally intended
to track online fraud and abuse.

"What was Project Honey Pot?
" a service that positions itself as some kind of a grassroot-y antispam registry, but in reality seems to be a pro-corporate law enforcement tool with the specific aim of entrapping and prosecuting spammers/phishing scammers in a way that’s friendly to the marketing industry ""

The US Department of Homeland Security
approached the developers in 2007-8[1][36] for access to their data, and they have
been working with the US government[54] and law enforcement ever since[1].
on HTTP GET requests:

Cloudflare has a history of shutting down open DNS and open NTP servers.

"It would be great if they allowed GET requests - for example - such requests should not and generally do not modify server side content. They do not do this - this breaks the web in so many ways, it is incredible. Using wget with Tor on a website hosted by CF is... a disaster. Using Tor Browser with it - much the same. These requests should be idempotent according to spec, I believe."

Cloudflare has a history of closing tickets that are critical of it without
actually resolving the issue[29][30][32]

" Cloudflare is based in a country with secret courts, secret police and secret prisons that are above the law -- and this secret government has characterized Cloudflare's data as extremely valuable"[28]
"The CEO says "Cloudflares strength lies in the DATA it collects -- not in its CODE."[28]
"The U.S. federal government is a Cloudflare customer"[28]
"Cloudflare has never stated that a government agency did not install wiretapping equipment or software on the same premises as a Cloudflare server"[28]
"Cloudflare has never indicated that the architecture of its content distribution network is resistant to warrantless mass surveillance"[28]
"Cloudflare has given the Chinese government unprecedented censorship capability"[28]
"Cloudflare has no intention to shut down as Lavabit did in order to protect the user from unlawful surveillance"[28]
"Some Cloudflare customers are paying over 1 million dollars per year for an undisclosed service"[28]

*But Cloudflare is really necessary, the web is a nasty place*

- The more of the web is held within cloudflare the more pressure will be on
websites not behind cloudflare
- As of 2016, by cloudflare's own data tor was not as bad as normal internet connections.  
- "But we need Cloudflare to protect from DDoS.” Hey, that’s a nice site you have there. It would be a shame, such a shame, if anything happened to it. Why don’t you let us decrypt all your TLS sessions[59], so we can protect you?"[14]

*I heard Cloudflare is working with tor and all is good now?*

- just because you can't see the problem doesn't mean it's not there anymore.

- This is not true.  Their websites still CAPTCHA their users, same as ever, and
news agencies across the political spectrum screwed up stories about how the 'problem is fixed'[18]

- it's actually worse, though[17] if we couldn't see it[60] - it was easy to get a
lot of riled up tor users to understand that cloudflare was their adversary.
it's a lot harder to convince people who are not blocked from their websites,
today, why giving systematic control over the world wide web might be a bad thing tomorrow.

"Right now CloudFlare says it monitors nearly 1/5 of all Internet visits. An astounding claim for a company most people haven’t even heard of"[40]

- But they are now doing more to track users and threaten the anonymity of the
users of the tor network.

- Cloudflare is one of a couple of large network providers that are capturing
the vast majority of digital communications, effectively creating private
networks the size of the modern internet that are competitive with and not
subject to the same kinds of scrutiny and regulation as the internet[58].

* What if we shut down cloudflare and migrate all websites out of them?*

We're probably going to have the same problem with another company, very soon.
Just as when suddenly Microsoft no longer had a monopoly on software we didn't
get rid of the problem of proprietary software, there's a couple of problems
that if we don't solve them, something like Cloudflare is roughly inevitable
as a consequence:

*Cloudflare DNS*

"DNS[50] is around, servers are insecure, proper end-to-end crypto isn't the norm hence MITM goes unnoticed, anonymity is an edge case, routing lacks built-in resiliency to disruption, we're always going to have actors building a bus.ness model around cobbling together superficial, overapproximating mitigations."[20]

*Mozilla and Cloudflare*

"At least for browsing with Firefox, because Mozilla has partnered up with Cloudflare, and will resolve the domain names from the application itself via a DNS server from Cloudflare based in the United States. Cloudflare will then be able to read everyone's DNS requests. "
Sharing DNS requests with cloudflare represents mozilla having a security hole, straight to the Cloudflare (and probably: the NSA).

*What can you do?*

Learn more about cloudflare, and make sure the people around you know about cloudflare.  Use tor by default to be more exposed to the blocks.  Go to the anti-cloudflare collaboration repository[41] and make sure websites you use don't use them, and if they do, contact the people who run the website requesting that they no longer use cloudflare. Get involved!


References

[1] crimeflare. Is CloudFlare a honey pot?  https://web.archive.org/web/20170721161127/http://www.crimeflare.us/honeypot.html
[2] ioerror. Issues with corporate censorship and mass surveillance.  https://trac.torproject.org/projects/tor/ticket/18361#comment:15
[3] ioerror. Issues with corporate censorship and mass surveillance.  https://trac.torproject.org/projects/tor/ticket/18361#comment:21
[5] ioerror. Issues with corporate censorship and mass surveillance.  https://trac.torproject.org/projects/tor/ticket/18361#comment:28
[6] ioerror. Issues with corporate censorship and mass surveillance.  https://trac.torproject.org/projects/tor/ticket/18361#comment:30
[7] ioerror. Issues with corporate censorship and mass surveillance.  https://trac.torproject.org/projects/tor/ticket/18361#comment:32 
[8] ioerror. Issues with corporate censorship and mass surveillance.  https://www.bloomberg.com/quicktake/great-firewall-of-china
[9] ioerror. Issues with corporate censorship and mass surveillance.   https://trac.torproject.org/projects/tor/ticket/18361#comment:51
[10] crimeflare. Is CloudFlare a honey pot?  https://web.archive.org/web/20170721161127/http://www.crimeflare.us/honeypot.html
[11] ioerror. Issues with corporate censorship and mass surveillance.   https://trac.torproject.org/projects/tor/ticket/18361#comment:59
[12] ioerror. Issues with corporate censorship and mass surveillance.   https://trac.torproject.org/projects/tor/ticket/18361#comment:66
[13] mikeperry. The Trouble with CloudFlare.  https://blog.torproject.org/trouble-cloudflare
[14] nullius. Block Global Active Adversary Cloudflare.  https://trac.torproject.org/projects/tor/ticket/24351#comment:8
[15] Unknown. Google+ https://plus.google.com/105395547687614433866/posts/G9nnQBnLtjp
[16] Unknown. Google+ https://plus.google.com/105395547687614433866/posts/XnQryQ7hR9G
[17] msmach. Cloudflare Ends CAPTCHAs For Tor Users  https://it.slashdot.org/comments.pl?sid=12641622&cid=57348584
[18] msmach. Cloudflare Ends CAPTCHAs For Tor Users  https://it.slashdot.org/comments.pl?sid=12641622&cid=57388544
[19] ioerror. Issues with corporate censorship and mass surveillance.   https://trac.torproject.org/projects/tor/ticket/18361#comment:90
[20] ioerror. Issues with corporate censorship and mass surveillance.   https://trac.torproject.org/projects/tor/ticket/18361#comment:112
[21] ioerror. Issues with corporate censorship and mass surveillance.   https://trac.torproject.org/projects/tor/ticket/18361#comment:132
[22] ioerror. Issues with corporate censorship and mass surveillance.   https://trac.torproject.org/projects/tor/ticket/18361#comment:141
[23] ioerror. Issues with corporate censorship and mass surveillance.   https://trac.torproject.org/projects/tor/ticket/18361#comment:147
[24] ioerror. Issues with corporate censorship and mass surveillance.   https://trac.torproject.org/projects/tor/ticket/18361#comment:160
[25] ioerror. Issues with corporate censorship and mass surveillance.   https://trac.torproject.org/projects/tor/ticket/18361#comment:175
[26] ioerror. Issues with corporate censorship and mass surveillance.   https://trac.torproject.org/projects/tor/ticket/18361#comment:183
[27] ioerror. Issues with corporate censorship and mass surveillance.   https://trac.torproject.org/projects/tor/ticket/18361#comment:231
[28] ioerror. Issues with corporate censorship and mass surveillance.   https://trac.torproject.org/projects/tor/ticket/18361#comment:236
[29] ioerror. Issues with corporate censorship and mass surveillance.   https://trac.torproject.org/projects/tor/ticket/18361#comment:255
[30] gk. Cloudflare breaks loading the chat.  https://trac.torproject.org/projects/tor/ticket/23141
[31] nullius. Block Global Active Adversary Cloudflare.  https://trac.torproject.org/projects/tor/ticket/24351#comment:20
[32] nullius. Block Global Active Adversary Cloudflare.  https://trac.torproject.org/projects/tor/ticket/24351#comment:44
[33] nullius. Block Global Active Adversary Cloudflare.  https://trac.torproject.org/projects/tor/ticket/24351#comment:52
[34] nullius. Block Global Active Adversary Cloudflare.  https://trac.torproject.org/projects/tor/ticket/24351#comment:60
[35] nullius. Block Global Active Adversary Cloudflare.  https://trac.torproject.org/projects/tor/ticket/24321#comment:13
[36] Anonymous. Cloudflare philosophy.  https://notabug.org/crimeflare/cloudflare-tor/src/master/cloudflare-philosophy.md
[37] Peter O'Shaughnessy. Screen Reader User Survey Results #7.  https://toot.cafe/@peter/99398584471715976
[39] ungeich. A new feature in Firefox  https://blog.ungleich.ch/en-us/cms/blog/2018/08/04/mozillas-new-dns-resolution-is-dangerous/
[40] Yasha Levine. iSucker: Big Brother Internet Culture  http://exiledonline.com/isucker-big-brother-internet-culture/
[41] Anonymous. The Great Cloudwall.  http://notabug.org/crimeflare/cloudflare-tor
[42] lesswrong wiki. Unfriendly artificial intelligence  https://wiki.lesswrong.com/wiki/Unfriendly_artificial_intelligence
[43] Ben Harack. What is an existential risk?  https://www.visionofearth.org/future-of-humanity/existential-risks/what-is-an-existential-risk/
[44] Nick Szabo. Twitter  http://twitter.com/nickszabo4
[45] FSF. Google's Software is Malware  https://www.gnu.org/proprietary/malware-google.en.html
[46] Richard Stallman. Reasons not to use Google  https://stallman.org/google.html
[47] Richard Stallman. The JavaScript Trap  https://www.gnu.org/philosophy/javascript-trap.html
[48] Nick Szabo. Trusted Third Parties are Security Holes. 2001.  https://nakamotoinstitute.org/trusted-third-parties
[49] slashgeek. CloudFlare is ruining the internet (for me)  https://www.slashgeek.net/2016/05/17/cloudflare-is-ruining-the-internet-for-me/
[50] Hamid Sarfraz. How likely is it that CloudFlare is an NSA operation?  https://www.quora.com/How-likely-is-it-that-CloudFlare-is-an-NSA-operation/answer/Hamid-Sarfraz
[51] Karthik Balakrishnan. Airtel is sniffing and censoring CloudFlare’s traffic in India and CloudFlare doesn’t even know it.  https://medium.com/@karthikb351/airtel-is-sniffing-and-censoring-cloudflares-traffic-in-india-and-they-don-t-even-know-it-90935f7f6d98
[52] http://pleroma.oniichanylo2tsi4.onion/notice/1563
[53] StopMITMInt. Add an option to stop trusting Cloudflare certificate  https://github.com/mozilla-mobile/focus-android/issues/1743#issuecomment-351555735
[54] goody2shoes. Block Global Active Adversary Cloudflare  https://lists.torproject.org/pipermail/tor-talk/2018-January/043889.html
[55] EFF. The Crypto Wars  https://www.eff.org/document/crypto-wars
[56] http://forums.clamwin.com/viewtopic.php?t=4915
[57] November 2018 Archives by thread  http://lists.clamav.net/pipermail/clamav-users/2018-November/thread.html
[58] https://www.itu.int/en/ITU-T/Workshops-and-Seminars/20181218/Documents/Geoff_Huston_Presentation.pdf
[59] Thorin-Oakenpants. let's talk about our little buddy cloudflare.  https://github.com/ghacksuserjs/ghacks-user.js/issues/310#issuecomment-351913412
[60] ghost. What do you think about Cloudflare?  https://github.com/privacytoolsIO/privacytools.io/issues/374#issuecomment-460413259
